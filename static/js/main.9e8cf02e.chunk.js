(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(t,e,a){t.exports={chartContainer:"GameChart_chartContainer__1wvoo"}},127:function(t,e,a){t.exports={linkButton:"GameTable_linkButton__1adLs"}},129:function(t,e,a){t.exports=a(252)},134:function(t,e,a){},252:function(t,e,a){"use strict";a.r(e);var n=a(1),i=a.n(n),r=a(119),o=a.n(r),l=(a(134),a(51)),c=a(52),s=a(55),u=a(53),m=a(56),d=a(128),g=a(259),h=a(262),f=a(263),p=a(260),v=a(264),k=a(120),b=a.n(k),E=function(t){var e=Object(d.a)(t.data);return e.map(function(t){t.x=t.weight,t.y=t.playingTime}),console.log(e),i.a.createElement("div",{className:b.a.chartContainer},i.a.createElement(g.a,{domain:{x:[1,5],y:[0,400]}},i.a.createElement(h.a,{text:"Playing time",x:5,y:140,angle:"-90",textAnchor:"middle"}),i.a.createElement(h.a,{text:"Weight",x:225,y:290,textAnchor:"middle"}),i.a.createElement(f.a,{tickValues:[1,2,3,4,5]}),i.a.createElement(f.a,{dependentAxis:!0,tickValues:[60,120,180,240,300,360],tickFormat:function(e){return"".concat(t.convert(e))}}),i.a.createElement(p.a,{name:"dot",size:function(t,e){return e?3:2},eventKey:function(t){return t.id},labels:function(t){return t.title},labelComponent:i.a.createElement(v.a,null),data:e,externalEventMutations:t.mutations,events:[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"labels",mutation:function(){return{active:!0}}}]},onMouseOut:function(){return[{target:"labels",mutation:function(){return{active:!1}}}]}}}]})))},y=a(127),w=a.n(y),x=function(t){return i.a.createElement("table",{className:"sortable-table"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{onClick:function(e){return t.sorted(e,"rank")},"data-direction":"asc"},"Rank"),i.a.createElement("th",{onClick:function(e){return t.sorted(e,"title")},"data-direction":"asc"},"Title"),i.a.createElement("th",{onClick:function(e){return t.sorted(e,"mechanics")},"data-direction":"asc"},"Mechanics"))),i.a.createElement("tbody",null,t.data.map(function(e,a){return i.a.createElement("tr",{key:a,"data-item":e.id,onMouseOver:function(){return t.mousedOver(e.id)},onMouseOut:function(){return t.mousedOut(e.id)}},i.a.createElement("td",{"data-type":"rank"},e.rank),i.a.createElement("td",{"data-type":"title"},e.title," ",i.a.createElement("a",{className:w.a.linkButton,href:"https://www.boardgamegeek.com/boardgame/"+e._id},">")),i.a.createElement("td",{"data-type":"mechanics"},e.mechanics))})))},O=[{gameid:144733,title:"Russian Railroads"},{gameid:14996,title:"Ticket To Ride: Europe"},{gameid:17133,title:"Railways of the World"},{gameid:31627,title:"Ticket to Ride: Nordic Countries"},{gameid:27833,title:"Steam"},{gameid:4098,title:"Age of Steam"},{gameid:9209,title:"Ticket To Ride"},{gameid:421,title:"1830: Railways & Robber Barons"},{gameid:21348,title:"Ticket To Ride: M\xe4rklin"},{gameid:158899,title:"Colt Express"},{gameid:206941,title:"First Class: All Aboard the Orient Express!"},{gameid:119432,title:"Snowdonia"},{gameid:31730,title:"Chicago Express"},{gameid:121408,title:"Trains"},{gameid:17405,title:"1846: The Race for the Midwest"},{gameid:94,title:"Union Pacific"},{gameid:207691,title:"Railroad Revolution"},{gameid:157001,title:"Trains: Rising Sun"},{gameid:221318,title:"Whistle Stop"},{gameid:423,title:"1856: Railroading in Upper Canada from 1856"},{gameid:2842,title:"TransAmerica"},{gameid:168,title:"Empire Builder"},{gameid:37387,title:"Steel Driver"},{gameid:24773,title:"On the Underground"},{gameid:204,title:"Stephenson's Rocket"},{gameid:157,title:"Eurorails"},{gameid:166571,title:"Tramways"},{gameid:23540,title:"1889: History of Shikoku Railways"},{gameid:41749,title:"American Rails"},{gameid:138704,title:"Northern Pacific"}],T=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={gameDetails:[],externalMutations:void 0},a.convertMinsToHrsMins=function(t){var e=Math.floor(t/60),a=t%60;return a=a<10?"0"+a:a,"".concat(e,":").concat(a)},a.onHighlight=function(t){var e=String(t);console.log("highlight "+e),a.setState({externalMutations:[{childName:"data",target:"labels",eventKey:e,mutation:function(){return{active:!0}}}]})},a.onResetHighlight=function(t){var e=String(t);a.setState({externalMutations:[{childName:"data",target:"labels",eventKey:e,mutation:function(){return{active:!1}}}]})},a.onSort=function(t,e){var n=a.state.gameDetails;"asc"===t.currentTarget.dataset.direction?(n.sort(function(t,a){return isNaN(t[e])?t[e].localeCompare(a[e]):t[e]-a[e]}),t.target.setAttribute("data-direction","desc")):(n.sort(function(t,a){return isNaN(a[e])?a[e].localeCompare(t[e]):a[e]-t[e]}),t.target.setAttribute("data-direction","asc")),a.setState({gameDetails:n})},a}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=O.map(function(t,e){return"".concat(t.gameid)}).join(",");fetch("https://www.boardgamegeek.com/xmlapi2/thing?stats=1&id="+e).then(function(t){return t.text()}).then(function(e){var n=a(245).parse(e,{ignoreAttributes:!1,parseAttributeValue:!0,attributeNamePrefix:"_"}),i=Object.keys(n.items.item).map(function(t){return n.items.item[t]}),r=[];i.forEach(function(t,e){var a={},n="",i="",o="";n=Array.isArray(t.name)?t.name[0]._value.replace("&#039;","'").replace("&amp;","&"):t.name._value.replace("&#039;","'").replace("&amp;","&"),i=Array.isArray(t.statistics.ratings.ranks.rank)?t.statistics.ratings.ranks.rank[0]._value:t.statistics.ratings.ranks.rank._value,t.link.forEach(function(t){"boardgamemechanic"===t._type&&(o=o+t._value+", ")}),a.id=t._id,a.rank=i,a.title=n,a.mechanics=o.substring(0,o.length-2),a.weight=t.statistics.ratings.averageweight._value,a.playingTime=t.playingtime._value,r.push(a)}),t.setState({gameDetails:r})})}},{key:"render",value:function(){return i.a.createElement("article",null,i.a.createElement(E,{data:this.state.gameDetails,mutations:this.state.externalMutations,convert:this.convertMinsToHrsMins}),i.a.createElement(x,{data:this.state.gameDetails,sorted:this.onSort,mousedOver:this.onHighlight,mousedOut:this.onResetHighlight}))}}]),e}(n.Component),R=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(s.a)(this,Object(u.a)(e).call(this,t))).state={title:"The Weight of Trains"},a}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,this.state.title),i.a.createElement(T,null))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[129,2,1]]]);
//# sourceMappingURL=main.9e8cf02e.chunk.js.map